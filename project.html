<!DOCTYPE>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="format-detection" content="telephone=no">
	<title>盛作</title>
	<!-- 全局引用 -->
	<script src="https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
	<link href="css/basic.css" rel="stylesheet">
	<link href="css/nav.css" rel="stylesheet">
	<link href="css/iconfont.css" rel="stylesheet">
	<!-- 局部引用 -->
	<link href="css/project.css" rel="stylesheet">
</head>
<body>


<div class="wrap projectList">
	<div class="block header">
		<div class="mainTitle">
			<p>盛</p>
			<div class="mainImg">
				<img src="images/mainTitle.png">
				<p>Works</p>
			</div>
			<p>作</p>
		</div>
	</div>
	<div class="block" id="design">
		<h5 class="icon-title">
			<p class="icon-subtitleT1">平面展示类</p>
		</h5>
		<ul class="block projectWrap"></ul>
	</div>
	<div class="block" id="picture">
		<h5 class="icon-title">
			<p class="icon-subtitleT1">手绘插画类</p>
		</h5>
		<ul class="block projectWrap"></ul>
	</div>
	<div class="block" id="newmedia">
		<h5 class="icon-title">
			<p class="icon-subtitleT1">新媒体互动</p>
		</h5>
		<ul class="block h5Wrap">
			<div class="box">
				<div class="iphone-border">
					<div class="frameWrap">
						<iframe src="" frameborder="0" data="http://h5.stfx2017.com/chaox2/"></iframe>
						<div class="iframeMask">点击播放<br>朝鲜旅游H5</div>
					</div>
				</div>
				<div class="QR-border">
					<img src="images/project/QRchaox.png">
					<p class="hint">扫一扫手机预览</p>
				</div>
			</div>
			<div class="box">
				<div class="iphone-border">
					<div class="frameWrap">
						<iframe src="" frameborder="0" data="http://h5.stfx2017.com/xc/wls/"></iframe>
						<div class="iframeMask">点击播放<br>新城微楼书</div>
					</div>
				</div>
				<div class="QR-border">
					<img src="images/project/QRxc-wls.png">
					<p class="hint">扫一扫手机预览</p>
				</div>
			</div>
			<div class="box">
				<div class="iphone-border">
					<div class="frameWrap">
						<iframe src="" frameborder="0" data="http://h5.stfx2017.com/englishTest/"></iframe>
						<div class="iframeMask">点击播放<br>LEO英语团能力测试</div>
					</div>
				</div>
				<div class="QR-border">
					<img src="images/project/QRenglishTest.png">
					<p class="hint">扫一扫手机预览</p>
				</div>
			</div>
		</ul>
	</div>
</div>
<div class="wrap projectDetail hidden">
	<a href="#newmedia"><button id="backToList">返回<br>盛作</button></a>
	<button id="toTop">↑</button>
</div>


</body>
<script>
var pictureData = [
	['BGG','中建·铂公馆',8],
	['xt','小T',8],
	['tb','桃宝亲子乐园',1],
];
var designData = [
	['XCMY','新城·明昱',4 ],
	['HFSJ','华发四季',5 ],
	['XY','新城玺樾',14],
	['XCHJ','新城汇隽',4 ],
	['FLJXYC','富力·金禧悦城',5 ],
	['FHQ','国家网络安全基地孵化器',4 ],
	['ZJJZZX','中建·荆州之星',11],
	['YYSJYJW','远洋世界·悦璄湾',7 ],
	['GX','万汇城',4 ],
	['ZA','左岸天地',6 ],
	['XSW','香水湾',6 ],
	['BBTJQH','百步亭·金桥汇',3 ],
	['ZJGGZX','中建·光谷之星',4 ],
	['RC','融创·天城中心',36],
	['JL','君临国际',7 ],
	['WY','万盈国际',5 ],
	['ZJZHTD','中建·智汇天地',6 ],
	['JT','新城璟棠',36],
	['DJ','电建·洺悦御府',42],
	['LC','龙城天第',27],
	['TR','庭瑞·方洲ONE',48],
	['XC','新城玖璟台',47],
	['YST','富力·院士廷',38],
];
for (let index = 0; index < pictureData.length; index++) {
	$("#picture ul").append("<li class='box' point="+pictureData[index][0]+" length="+pictureData[index][2]+"><img src='images/project/"+pictureData[index][0]+".png' class='boxImg'><div class='mask'><p class='words'>"+pictureData[index][1]+"</p></div></li>");
}
for (let index = 0; index < designData.length; index++) {
	$("#design ul").append("<li class='box' point="+designData[index][0]+" length="+designData[index][2]+"><img src='images/project/"+designData[index][0]+".png' class='boxImg'><div class='mask'><p class='words'>"+designData[index][1]+"</p></div></li>");
}
// 添加颜色
var colorData;
$('.projectWrap .box').each(function (index) {
	let thisI = $(this).index();
	if(thisI%8 == 0){ colorData = 'boxB'; }
	else if(thisI%8 == 1){ colorData = 'boxY'; }
	else if(thisI%8 == 2){ colorData = 'boxG'; }
	else if(thisI%8 == 3){ colorData = 'boxP'; }
	else if(thisI%8 == 4){ colorData = 'boxY'; }
	else if(thisI%8 == 5){ colorData = 'boxB'; }
	else if(thisI%8 == 6){ colorData = 'boxR'; }
	else if(thisI%8 == 7){ colorData = 'boxG'; }
	$(this).addClass(colorData);
});
// 指定页面索引
var navIndex = 3, project_kind;
$('.projectWrap .box').bind('mouseover',function () {
	$('.active').removeClass('active');
	$('.projectWrap .box .mask,.projectWrap .box .boxImg').finish();
	$(this).addClass('active');
	$('.active').children('.boxImg').animate({'width':'+=50'}, 500);
	$('.active').children('.mask').animate({'opacity':1}, 500);
});
$('.projectWrap .box').bind('mouseout',function () {
	$(this).children('.mask').animate({'opacity':0}, 400);
	$('.active').children('.boxImg').animate({'width':'-=50'}, 500);
});


// 选择项目
$('#design .box').click(function () {
	project_kind = 'design';
});
$('#picture .box').click(function () {
	project_kind = 'picture';
});
$('.projectWrap .box').click(function () {
	$('body').animate( {scrollTop: 0}, 1);
	$('#backToList').parent().attr('href','#'+project_kind);
	// 检测按钮
	$(window).bind('scroll', function() {
		var scrollT =  $("body").scrollTop();
		var h = $("body").height();
		var pecent = parseInt(($("body").scrollTop() / $("body").height())*100);
		if(pecent > 50){ $("#toTop").show(); }
		else{ $("#toTop").hide(); }
	});
	let point = $(this).attr("point");
	let pointLength = $(this).attr("length");
	$('.projectDetail img').remove();
	for (let i = 1; i <= pointLength; i++) {
		let curN = i;
		if(i<=9){ curN = '0' + i; }
		$('.projectDetail').append(" <img src='images/load.gif' data-src='images/project/"+point+curN+".jpg' class='preload is-loading'> ");
	}
	let parent = $('body').find('.preload');
	parent.each(function(){
		let self = $(this);
		if(self.attr('data-src')){
			let img = new Image();
			img.src = self.attr('data-src');
			img.onload = function(){
				self.attr('src',self.attr('data-src'));
				self.removeClass('is-loading');
			};
		}
	});
	$('.projectList').hide();
	$('.projectDetail').show();
});
$(".iframeMask").click(function () {
	$(".h5Wrap iframe").attr("src","");
	$(".iframeMask").show();
	let curSrc = $(this).prev().attr('data');
	$(this).prev().attr('src',curSrc);
	$(this).hide();
});
// 两个按钮
$('#backToList').click(function () {
	$(window).unbind('scroll');
	$('.projectDetail').hide();
	$('.projectList').show();
});
$('#toTop').click(function () {
	$('body').animate( {scrollTop: 0}, 500);
});
</script>
<script src="js/nav.js"></script>
</html>
